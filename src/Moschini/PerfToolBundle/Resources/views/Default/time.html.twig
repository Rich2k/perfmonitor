{% extends "MoschiniPerfToolBundle::layout.html.twig" %}
{% block title 'Time' %}

{% block javascripts %}
<script src="{{ asset('js/d3.v3.min.js') }}"></script>
<script src="{{ asset('js/time-graph.js') }}"></script>
<script type="text/javascript">
{% for key, times in values %}
    var avgs = [];
    
    datas = groupValuesByDate({{ times|json_encode|raw }});
    for(time in datas)
    {
        avgs.push({'date': parseInt(time), 'value': getHistAvgValue(datas[time])});
    }
    showTimesGraph(avgs, '#div-key-{{ key }}');
{% endfor %}
</script>

{% include 'MoschiniPerfToolBundle::menu.html.twig' with {'site': app.request.get('site'), 'route': 'moschini_perftool_default_time'} %}
{% render url('moschini_perftool_sites_js', {'site': app.request.get('site'), 'url': app.request.get('url')}) %}
{% endblock %}

{% block content %}

{% render url('moschini_perftool_sites_sites', {'site': app.request.get('site')}) %}

{% for id, url in urls %}
<div id="div-key-{{ id }}">
<h3><a href="">{{ url.getHost }}{{ url.getPath }}</a></h3>
</div>
{% endfor %}

{% endblock %}
